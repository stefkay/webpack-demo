{"version":3,"sources":["iframe-wrap.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,WAAW,QAAQ,UAAR,CAAf;AAAA,IACI,kBAAkB,QAAQ,WAAR,CADtB;AAAA,IAEI,cAAc,QAAQ,oBAAR,CAFlB;;AAKA,OAAO,OAAP,GAAiB,UAAS,SAAT,EAAoB;;AAEnC,WAAS,mBAAT,CAA6B,QAA7B,EAAuC,OAAvC,EAAgD;AAC9C,oBAAgB,IAAhB,CAAqB,IAArB,EAA2B,UAAU,aAArC,EAAoD,QAApD,EAA8D,OAA9D;AACD;;AAED,WAAS,mBAAT,EAA8B,eAA9B;;AAEA,sBAAoB,OAApB,GAA8B,UAAS,GAAT,EAAc,IAAd,EAAoB;AAChD,QAAI,CAAC,OAAO,QAAZ,EAAsB;AACpB,aAAO,KAAP;AACD;;AAED,QAAI,aAAa,YAAY,MAAZ,CAAmB,EAAnB,EAAuB,IAAvB,CAAjB;AACA,eAAW,UAAX,GAAwB,IAAxB;AACA,WAAO,UAAU,OAAV,CAAkB,UAAlB,KAAiC,gBAAgB,OAAhB,EAAxC;AACD,GARD;;AAUA,sBAAoB,aAApB,GAAoC,YAAY,UAAU,aAA1D;AACA,sBAAoB,QAApB,GAA+B,IAA/B;AACA,sBAAoB,UAApB,GAAiC,gBAAgB,UAAhB,GAA6B,UAAU,UAAvC,GAAoD,CAArF,CAAwF;;AAExF,sBAAoB,eAApB,GAAsC,SAAtC;;AAEA,SAAO,mBAAP;AACD,CAzBD","file":"iframe-wrap-compiled.js","sourcesContent":["'use strict';\n\nvar inherits = require('inherits')\n  , IframeTransport = require('../iframe')\n  , objectUtils = require('../../utils/object')\n  ;\n\nmodule.exports = function(transport) {\n\n  function IframeWrapTransport(transUrl, baseUrl) {\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\n  }\n\n  inherits(IframeWrapTransport, IframeTransport);\n\n  IframeWrapTransport.enabled = function(url, info) {\n    if (!global.document) {\n      return false;\n    }\n\n    var iframeInfo = objectUtils.extend({}, info);\n    iframeInfo.sameOrigin = true;\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\n  };\n\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\n  IframeWrapTransport.needBody = true;\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)\n\n  IframeWrapTransport.facadeTransport = transport;\n\n  return IframeWrapTransport;\n};\n"]}