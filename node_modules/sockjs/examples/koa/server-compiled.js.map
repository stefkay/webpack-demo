{"version":3,"sources":["server.js"],"names":[],"mappings":"AAAA,IAAI,MAAU,QAAQ,KAAR,CAAd;AACA,IAAI,SAAU,QAAQ,QAAR,CAAd;AACA,IAAI,OAAU,QAAQ,MAAR,CAAd;AACA,IAAI,KAAU,QAAQ,IAAR,CAAd;AACA,IAAI,OAAU,QAAQ,MAAR,CAAd;;AAEA;AACA,IAAI,cAAc,EAAC,YAAY,oDAAb,EAAlB;AACA,IAAI,cAAc,OAAO,YAAP,CAAoB,WAApB,CAAlB;AACA,YAAY,EAAZ,CAAe,YAAf,EAA6B,UAAS,IAAT,EAAe;AACxC,SAAK,EAAL,CAAQ,MAAR,EAAgB,UAAS,OAAT,EAAkB;AAC9B,aAAK,KAAL,CAAW,OAAX;AACH,KAFD;AAGH,CAJD;;AAMA;AACA,IAAI,MAAM,KAAV;;AAEA,IAAI,GAAJ,CAAQ,aAAa;AACjB,QAAI,WAAW,YAAY,aAA3B;AACA,SAAK,IAAL,GAAY,KAAK,OAAL,CAAa,QAAb,CAAZ;AACA,SAAK,IAAL,GAAY,GAAG,gBAAH,CAAoB,QAApB,CAAZ;AACH,CAJD;;AAMA,IAAI,SAAS,KAAK,YAAL,CAAkB,IAAI,QAAJ,EAAlB,CAAb;AACA,YAAY,eAAZ,CAA4B,MAA5B,EAAoC,EAAC,QAAO,OAAR,EAApC;;AAEA,OAAO,MAAP,CAAc,IAAd,EAAoB,SAApB;AACA,QAAQ,GAAR,CAAY,gCAAZ","file":"server-compiled.js","sourcesContent":["var koa     = require('koa');\nvar sockjs  = require('sockjs');\nvar http    = require('http');\nvar fs      = require('fs');\nvar path    = require('path');\n\n// 1. Echo sockjs server\nvar sockjs_opts = {sockjs_url: \"http://cdn.jsdelivr.net/sockjs/1.0.1/sockjs.min.js\"};\nvar sockjs_echo = sockjs.createServer(sockjs_opts);\nsockjs_echo.on('connection', function(conn) {\n    conn.on('data', function(message) {\n        conn.write(message);\n    });\n});\n\n// 2. koa server\nvar app = koa();\n\napp.use(function *() {\n    var filePath = __dirname + '/index.html';\n    this.type = path.extname(filePath);\n    this.body = fs.createReadStream(filePath);\n});\n\nvar server = http.createServer(app.callback());\nsockjs_echo.installHandlers(server, {prefix:'/echo'});\n\nserver.listen(9999, '0.0.0.0');\nconsole.log(' [*] Listening on 0.0.0.0:9999' );\n"]}