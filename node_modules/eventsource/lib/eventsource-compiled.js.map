{"version":3,"sources":["eventsource.js"],"names":[],"mappings":"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","file":"eventsource-compiled.js","sourcesContent":["var original = require('original')\n  , parse = require('url').parse\n  , events = require('events')\n  , https = require('https')\n  , http = require('http')\n  , util = require('util');\n\nfunction isPlainObject(obj) {\n  return Object.getPrototypeOf(obj) === Object.prototype;\n}\n\n/**\n * Creates a new EventSource object\n *\n * @param {String} url the URL to which to connect\n * @param {Object} eventSourceInitDict extra init params. See README for details.\n * @api public\n **/\nfunction EventSource(url, eventSourceInitDict) {\n  var readyState = EventSource.CONNECTING;\n  Object.defineProperty(this, 'readyState', {\n    get: function () {\n      return readyState;\n    }\n  });\n\n  Object.defineProperty(this, 'url', {\n    get: function () {\n      return url;\n    }\n  });\n\n  var self = this;\n  self.reconnectInterval = 1000;\n  var connectPending = false;\n\n  function onConnectionClosed() {\n    if (connectPending || readyState === EventSource.CLOSED) return;\n    connectPending = true;\n    readyState = EventSource.CONNECTING;\n    _emit('error', new Event('error'));\n\n    // The url may have been changed by a temporary\n    // redirect. If that's the case, revert it now.\n    if (reconnectUrl) {\n      url = reconnectUrl;\n      reconnectUrl = null;\n    }\n    setTimeout(function () {\n      if (readyState !== EventSource.CONNECTING) {\n        return;\n      }\n      connect();\n    }, self.reconnectInterval);\n  }\n\n  var req;\n  var lastEventId = '';\n  if (eventSourceInitDict && eventSourceInitDict.headers && isPlainObject(eventSourceInitDict.headers) && eventSourceInitDict.headers['Last-Event-ID']) {\n    lastEventId = eventSourceInitDict.headers['Last-Event-ID'];\n    delete eventSourceInitDict.headers['Last-Event-ID'];\n  }\n\n  var discardTrailingNewline = false\n    , data = ''\n    , eventName = '';\n\n  var reconnectUrl = null;\n\n  function connect() {\n    connectPending = false;\n\n    var options = parse(url);\n    var isSecure = options.protocol == 'https:';\n    options.headers = { 'Cache-Control': 'no-cache', 'Accept': 'text/event-stream' };\n    if (lastEventId) options.headers['Last-Event-ID'] = lastEventId;\n    if (eventSourceInitDict && eventSourceInitDict.headers && isPlainObject(eventSourceInitDict.headers)) {\n      for (var i in eventSourceInitDict.headers) {\n        var header = eventSourceInitDict.headers[i];\n        if (header) {\n          options.headers[i] = header;\n        }\n      }\n    }\n\n    options.rejectUnauthorized = !(eventSourceInitDict && eventSourceInitDict.rejectUnauthorized == false);\n\n    req = (isSecure ? https : http).request(options, function (res) {\n      // Handle HTTP redirects\n      if (res.statusCode == 301 || res.statusCode == 307) {\n        if (!res.headers.location) {\n          // Server sent redirect response without Location header.\n          _emit('error', new Event('error', {status: res.statusCode}));\n          return;\n        }\n        if (res.statusCode == 307) reconnectUrl = url;\n        url = res.headers.location;\n        process.nextTick(connect);\n        return;\n      }\n\n      if (res.statusCode !== 200) {\n        _emit('error', new Event('error', {status: res.statusCode}));\n        return self.close();\n      }\n\n      readyState = EventSource.OPEN;\n      res.on('close', onConnectionClosed);\n      res.on('end', onConnectionClosed);\n      _emit('open', new Event('open'));\n\n      // text/event-stream parser adapted from webkit's\n      // Source/WebCore/page/EventSource.cpp\n      var buf = '';\n      res.on('data', function (chunk) {\n        buf += chunk;\n\n        var pos = 0\n          , length = buf.length;\n        while (pos < length) {\n          if (discardTrailingNewline) {\n            if (buf[pos] === '\\n') {\n              ++pos;\n            }\n            discardTrailingNewline = false;\n          }\n\n          var lineLength = -1\n            , fieldLength = -1\n            , c;\n\n          for (var i = pos; lineLength < 0 && i < length; ++i) {\n            c = buf[i];\n            if (c === ':') {\n              if (fieldLength < 0) {\n                fieldLength = i - pos;\n              }\n            } else if (c === '\\r') {\n              discardTrailingNewline = true;\n              lineLength = i - pos;\n            } else if (c === '\\n') {\n              lineLength = i - pos;\n            }\n          }\n\n          if (lineLength < 0) {\n            break;\n          }\n\n          parseEventStreamLine(buf, pos, fieldLength, lineLength);\n\n          pos += lineLength + 1;\n        }\n\n        if (pos === length) {\n          buf = '';\n        } else if (pos > 0) {\n          buf = buf.slice(pos);\n        }\n      });\n    });\n\n    req.on('error', onConnectionClosed);\n    req.setNoDelay(true);\n    req.end();\n  }\n\n  connect();\n\n  function _emit() {\n    if (self.listeners(arguments[0]).length > 0) {\n      self.emit.apply(self, arguments);\n    }\n  }\n\n  this.close = function () {\n    if (readyState == EventSource.CLOSED) return;\n    readyState = EventSource.CLOSED;\n    req.abort();\n  };\n\n  function parseEventStreamLine(buf, pos, fieldLength, lineLength) {\n    if (lineLength === 0) {\n      if (data.length > 0) {\n        var type = eventName || 'message';\n        _emit(type, new MessageEvent(type, {\n          data: data.slice(0, -1), // remove trailing newline\n          lastEventId: lastEventId,\n          origin: original(url)\n        }));\n        data = '';\n      }\n      eventName = void 0;\n    } else if (fieldLength > 0) {\n      var noValue = fieldLength < 0\n        , step = 0\n        , field = buf.slice(pos, pos + (noValue ? lineLength : fieldLength));\n\n      if (noValue) {\n        step = lineLength;\n      } else if (buf[pos + fieldLength + 1] !== ' ') {\n        step = fieldLength + 1;\n      } else {\n        step = fieldLength + 2;\n      }\n      pos += step;\n      var valueLength = lineLength - step\n        , value = buf.slice(pos, pos + valueLength);\n\n      if (field === 'data') {\n        data += value + '\\n';\n      } else if (field === 'event') {\n        eventName = value;\n      } else if (field === 'id') {\n        lastEventId = value;\n      } else if (field === 'retry') {\n        var retry = parseInt(value, 10);\n        if (!Number.isNaN(retry)) {\n          self.reconnectInterval = retry;\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = EventSource;\n\nutil.inherits(EventSource, events.EventEmitter);\nEventSource.prototype.constructor = EventSource; // make stacktraces readable\n\n['open', 'error', 'message'].forEach(function (method) {\n  Object.defineProperty(EventSource.prototype, 'on' + method, {\n    /**\n     * Returns the current listener\n     *\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    get: function get() {\n      var listener = this.listeners(method)[0];\n      return listener ? (listener._listener ? listener._listener : listener) : undefined;\n    },\n\n    /**\n     * Start listening for events\n     *\n     * @param {Function} listener the listener\n     * @return {Mixed} the set function or undefined\n     * @api private\n     */\n    set: function set(listener) {\n      this.removeAllListeners(method);\n      this.addEventListener(method, listener);\n    }\n  });\n});\n\n/**\n * Ready states\n */\nObject.defineProperty(EventSource, 'CONNECTING', { enumerable: true, value: 0});\nObject.defineProperty(EventSource, 'OPEN', { enumerable: true, value: 1});\nObject.defineProperty(EventSource, 'CLOSED', { enumerable: true, value: 2});\n\n/**\n * Emulates the W3C Browser based WebSocket interface using addEventListener.\n *\n * @param {String} method Listen for an event\n * @param {Function} listener callback\n * @see https://developer.mozilla.org/en/DOM/element.addEventListener\n * @see http://dev.w3.org/html5/websockets/#the-websocket-interface\n * @api public\n */\nEventSource.prototype.addEventListener = function addEventListener(method, listener) {\n  if (typeof listener === 'function') {\n    // store a reference so we can return the original function again\n    listener._listener = listener;\n    this.on(method, listener);\n  }\n};\n\n/**\n * W3C Event\n *\n * @see http://www.w3.org/TR/DOM-Level-3-Events/#interface-Event\n * @api private\n */\nfunction Event(type, optionalProperties) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true });\n  if (optionalProperties) {\n    for (var f in optionalProperties) {\n      if (optionalProperties.hasOwnProperty(f)) {\n        Object.defineProperty(this, f, { writable: false, value: optionalProperties[f], enumerable: true });\n      }\n    }\n  }\n}\n\n/**\n * W3C MessageEvent\n *\n * @see http://www.w3.org/TR/webmessaging/#event-definitions\n * @api private\n */\nfunction MessageEvent(type, eventInitDict) {\n  Object.defineProperty(this, 'type', { writable: false, value: type, enumerable: true });\n  for (var f in eventInitDict) {\n    if (eventInitDict.hasOwnProperty(f)) {\n      Object.defineProperty(this, f, { writable: false, value: eventInitDict[f], enumerable: true });\n    }\n  }\n}\n"]}