{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Cached loaded submodules.\n * @private\n */\n\nvar modules = Object.create(null);\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Negotiator;\nmodule.exports.Negotiator = Negotiator;\n\n/**\n * Create a Negotiator instance from a request.\n * @param {object} request\n * @public\n */\n\nfunction Negotiator(request) {\n  if (!(this instanceof Negotiator)) {\n    return new Negotiator(request);\n  }\n\n  this.request = request;\n}\n\nNegotiator.prototype.charset = function charset(available) {\n  var set = this.charsets(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.charsets = function charsets(available) {\n  var preferredCharsets = loadModule('charset').preferredCharsets;\n  return preferredCharsets(this.request.headers['accept-charset'], available);\n};\n\nNegotiator.prototype.encoding = function encoding(available) {\n  var set = this.encodings(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.encodings = function encodings(available) {\n  var preferredEncodings = loadModule('encoding').preferredEncodings;\n  return preferredEncodings(this.request.headers['accept-encoding'], available);\n};\n\nNegotiator.prototype.language = function language(available) {\n  var set = this.languages(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.languages = function languages(available) {\n  var preferredLanguages = loadModule('language').preferredLanguages;\n  return preferredLanguages(this.request.headers['accept-language'], available);\n};\n\nNegotiator.prototype.mediaType = function mediaType(available) {\n  var set = this.mediaTypes(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.mediaTypes = function mediaTypes(available) {\n  var preferredMediaTypes = loadModule('mediaType').preferredMediaTypes;\n  return preferredMediaTypes(this.request.headers.accept, available);\n};\n\n// Backwards compatibility\nNegotiator.prototype.preferredCharset = Negotiator.prototype.charset;\nNegotiator.prototype.preferredCharsets = Negotiator.prototype.charsets;\nNegotiator.prototype.preferredEncoding = Negotiator.prototype.encoding;\nNegotiator.prototype.preferredEncodings = Negotiator.prototype.encodings;\nNegotiator.prototype.preferredLanguage = Negotiator.prototype.language;\nNegotiator.prototype.preferredLanguages = Negotiator.prototype.languages;\nNegotiator.prototype.preferredMediaType = Negotiator.prototype.mediaType;\nNegotiator.prototype.preferredMediaTypes = Negotiator.prototype.mediaTypes;\n\n/**\n * Load the given module.\n * @private\n */\n\nfunction loadModule(moduleName) {\n  var module = modules[moduleName];\n\n  if (module !== undefined) {\n    return module;\n  }\n\n  // This uses a switch for static require analysis\n  switch (moduleName) {\n    case 'charset':\n      module = require('./lib/charset');\n      break;\n    case 'encoding':\n      module = require('./lib/encoding');\n      break;\n    case 'language':\n      module = require('./lib/language');\n      break;\n    case 'mediaType':\n      module = require('./lib/mediaType');\n      break;\n    default:\n      throw new Error('Cannot find module \\'' + moduleName + '\\'');\n  }\n\n  // Store to prevent invoking require()\n  modules[moduleName] = module;\n\n  return module;\n}\n"]}