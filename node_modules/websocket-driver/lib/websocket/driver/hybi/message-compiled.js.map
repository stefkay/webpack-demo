{"version":3,"sources":["message.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,UAAU,YAAW;AACvB,OAAK,IAAL,GAAe,KAAf;AACA,OAAK,IAAL,GAAe,KAAf;AACA,OAAK,IAAL,GAAe,KAAf;AACA,OAAK,MAAL,GAAe,IAAf;AACA,OAAK,MAAL,GAAe,CAAf;AACA,OAAK,OAAL,GAAe,EAAf;AACD,CAPD;;AASA,IAAI,WAAW;AACb,QAAM,YAAW;AACf,QAAI,KAAK,IAAT,EAAe,OAAO,KAAK,IAAZ;;AAEf,SAAK,IAAL,GAAa,IAAI,MAAJ,CAAW,KAAK,MAAhB,CAAb;AACA,QAAI,SAAS,CAAb;;AAEA,SAAK,IAAI,IAAI,CAAR,EAAW,IAAI,KAAK,OAAL,CAAa,MAAjC,EAAyC,IAAI,CAA7C,EAAgD,GAAhD,EAAqD;AACnD,WAAK,OAAL,CAAa,CAAb,EAAgB,IAAhB,CAAqB,KAAK,IAA1B,EAAgC,MAAhC;AACA,gBAAU,KAAK,OAAL,CAAa,CAAb,EAAgB,MAA1B;AACD;AACD,WAAO,KAAK,IAAZ;AACD,GAZY;;AAcb,aAAW,UAAS,KAAT,EAAgB;AACzB,SAAK,IAAL,GAAY,KAAK,IAAL,IAAa,MAAM,IAA/B;AACA,SAAK,IAAL,GAAY,KAAK,IAAL,IAAa,MAAM,IAA/B;AACA,SAAK,IAAL,GAAY,KAAK,IAAL,IAAa,MAAM,IAA/B;;AAEA,QAAI,KAAK,MAAL,KAAgB,IAApB,EAA0B,KAAK,MAAL,GAAc,MAAM,MAApB;;AAE1B,SAAK,OAAL,CAAa,IAAb,CAAkB,MAAM,OAAxB;AACA,SAAK,MAAL,IAAe,MAAM,MAArB;AACD;AAvBY,CAAf;;AA0BA,KAAK,IAAI,GAAT,IAAgB,QAAhB,EACE,QAAQ,SAAR,CAAkB,GAAlB,IAAyB,SAAS,GAAT,CAAzB;;AAEF,OAAO,OAAP,GAAiB,OAAjB","file":"message-compiled.js","sourcesContent":["'use strict';\n\nvar Message = function() {\n  this.rsv1    = false;\n  this.rsv2    = false;\n  this.rsv3    = false;\n  this.opcode  = null\n  this.length  = 0;\n  this._chunks = [];\n};\n\nvar instance = {\n  read: function() {\n    if (this.data) return this.data;\n\n    this.data  = new Buffer(this.length);\n    var offset = 0;\n\n    for (var i = 0, n = this._chunks.length; i < n; i++) {\n      this._chunks[i].copy(this.data, offset);\n      offset += this._chunks[i].length;\n    }\n    return this.data;\n  },\n\n  pushFrame: function(frame) {\n    this.rsv1 = this.rsv1 || frame.rsv1;\n    this.rsv2 = this.rsv2 || frame.rsv2;\n    this.rsv3 = this.rsv3 || frame.rsv3;\n\n    if (this.opcode === null) this.opcode = frame.opcode;\n\n    this._chunks.push(frame.payload);\n    this.length += frame.length;\n  }\n};\n\nfor (var key in instance)\n  Message.prototype[key] = instance[key];\n\nmodule.exports = Message;\n"]}