{"version":3,"sources":["webpack.config.js"],"names":[],"mappings":"AAAA,MAAM,OAAO,QAAQ,MAAR,CAAb;AACA,MAAM,oBAAoB,QAAQ,qBAAR,CAA1B;AACA,MAAM,QAAQ,QAAQ,eAAR,CAAd;AACA,MAAM,WAAW,QAAQ,mBAAR,CAAjB;AACA,MAAM,QAAQ,QAAQ,cAAR,CAAd;AACA,MAAM,MAAM,QAAQ,gBAAR,CAAZ;;AAEA,MAAM,QAAQ;AACV,SAAK,KAAK,IAAL,CAAU,SAAV,EAAqB,KAArB,CADK;AAEV,WAAO,CACH,KAAK,IAAL,CAAU,SAAV,EAAqB,cAArB,EAAqC,SAArC,CADG,EAEH,KAAK,IAAL,CAAU,SAAV,EAAqB,KAArB,EAA4B,UAA5B,CAFG,CAFG;AAMV,WAAO,KAAK,IAAL,CAAU,SAAV,EAAqB,OAArB;;AANG,CAAd;;AAUA,MAAM,SAAS;AACb;AACA;AACA;AACA,WAAO;AACH,eAAO,MAAM,KADV;AAEH,aAAK,MAAM,GAFR;AAGH,gBAAQ,OAAO,IAAP,CAAY,IAAI,YAAhB,CAA6B;AAHlC,KAJM;AASb,YAAQ;AACJ,cAAM,MAAM,KADR;AAEJ,oBAAY,gBAFR;AAGJ,kBAAU,uBAHN;AAIJ;AACA;AACA,uBAAe;AANX,KATK;AAiBb,aAAS,CACP,IAAI,iBAAJ,CAAsB;AACpB,eAAO;AADa,KAAtB,CADO;AAjBI,CAAf;;AAwBA,IAAI,MAAJ;;AAEA;AACA,QAAO,QAAQ,GAAR,CAAY,mBAAnB;AACI,SAAK,OAAL;AACA,SAAK,OAAL;AACI,iBAAS,MACL,MADK,EAEL;AACI,qBAAS,YADb;AAEI,oBAAQ;AACJ,sBAAM,MAAM,KADR;AAEJ,0BAAU,uBAFN;AAGJ;AACA;AACA,+BAAe;AALX;AAFZ,SAFK,EAYL,MAAM,KAAN,CAAY,MAAM,KAAlB,CAZK,EAaL,MAAM,eAAN,CACI,sBADJ,EAEI,YAFJ,CAbK,EAiBL,MAAM,aAAN,CAAoB;AAChB,kBAAM,QADU;AAEhB,qBAAS,CAAC,OAAD;AAFO,SAApB,CAjBK,EAqBL,MAAM,MAAN,EArBK,EAsBL,MAAM,UAAN,CAAiB,MAAM,KAAvB,CAtBK,EAuBL,MAAM,SAAN,CAAgB,CAAC,MAAM,GAAP,CAAhB,CAvBK,CAAT;AAyBA;AACJ;AACI,iBAAS,MACL,MADK,EAEL;AACE,qBAAS;AADX,SAFK,EAKL,MAAM,QAAN,CAAe,MAAM,KAArB,CALK,EAML,MAAM,SAAN,CAAgB;AAClB;AACA,kBAAM,QAAQ,GAAR,CAAY,IAFA;AAGlB,kBAAM,QAAQ,GAAR,CAAY;AAHA,SAAhB,CANK,CAAT;AA9BR;;AA4CA;AACA;AACA;;AAGA;AACA,OAAO,OAAP,GAAiB,SAAS,MAAT,EAAiB;AAC9B,WAAO;AADuB,CAAjB,CAAjB","file":"webpack.config-compiled.js","sourcesContent":["const path = require('path');\r\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\r\nconst merge = require('webpack-merge');\r\nconst validate = require('webpack-validator');\r\nconst parts = require('./libs/parts');\r\nconst pkg = require('./package.json');\r\n\r\nconst PATHS = {\r\n    app: path.join(__dirname, 'app'),\r\n    style: [\r\n        path.join(__dirname, 'node_modules', 'purecss'),\r\n        path.join(__dirname, 'app', 'main.css')\r\n    ],\r\n    build: path.join(__dirname, 'build')\r\n\r\n};\r\n\r\nconst common = {\r\n  // Entry accepts a path or an object of entries.\r\n  // We'll be using the latter form given it's\r\n  // convenient with more complex configurations.\r\n  entry: {\r\n      style: PATHS.style,\r\n      app: PATHS.app,\r\n      vendor: Object.keys(pkg.dependencies)//can use filter to skip some dependencies\r\n  },\r\n  output: {\r\n      path: PATHS.build,\r\n      publicPath: '/webpack-demo/',\r\n      filename: '[name].[chunkhash].js',\r\n      // This is used for require.ensure. The setup\r\n      // will work without but this is useful to set.\r\n      chunkFilename: '[chunkhash].js'\r\n  },\r\n  plugins: [\r\n    new HtmlWebpackPlugin({\r\n      title: 'Webpack demo'\r\n    })\r\n  ]\r\n};\r\n\r\nvar config;\r\n\r\n// Detect how npm is run and branch based on that\r\nswitch(process.env.npm_lifecycle_event){\r\n    case 'build':\r\n    case 'stats':\r\n        config = merge(\r\n            common,\r\n            {\r\n                devtool: 'source-map',\r\n                output: {\r\n                    path: PATHS.build,\r\n                    filename: '[name].[chunkhash].js',\r\n                    //This is used for require.ensure. The setup\r\n                    // will work without but this is useful to set.\r\n                    chunkFilename: '[chunkhash].js'\r\n                }\r\n            },\r\n            parts.clean(PATHS.build),\r\n            parts.setFreeVariable(\r\n                'process.env.NODE_ENV',\r\n                'production'\r\n            ),\r\n            parts.extractBundle({\r\n                name: 'vendor',\r\n                entries: ['react']\r\n            }),\r\n            parts.minify(),\r\n            parts.extractCSS(PATHS.style),\r\n            parts.purifyCSS([PATHS.app])\r\n        );\r\n        break;\r\n    default:\r\n        config = merge(\r\n            common,\r\n            {\r\n              devtool: 'eval-source-map'\r\n            },\r\n            parts.setupCSS(PATHS.style),\r\n            parts.devServer({\r\n          // Customize host/port here if needed\r\n          host: process.env.HOST,\r\n          port: process.env.PORT\r\n        })\r\n  );\r\n}\r\n\r\n//leanpub-start-remove;\r\n//module.exports = validate(config);\r\n//leanpub-end-remove;\r\n\r\n\r\n// Run validator in quiet mode to avoid output in stats\r\nmodule.exports = validate(config, {\r\n    quiet: true\r\n});"]}